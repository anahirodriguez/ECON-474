plot_grid(fig_x_bal, ncol = 2)
}
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Lag Score', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Lagged Democratic Vote Share", y = y_lab[i])
}
plot_grid(fig_x_bal, ncol = 2)
fig_x_bal
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Lag Score', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Lagged Democratic Vote Share", y = y_lab[i])
plot_grid(fig_x_bal[i], ncol = 2)
}
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Lag Score', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Lagged Democratic Vote Share", y = y_lab[i])
plot_grid(fig_x_bal[i], ncol = 2)
}
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Lag Score', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Lagged Democratic Vote Share", y = y_lab[i])
plot_grid(fig_x_bal[i], ncol = 2)
}
plot_grid(fig_x_bal[1], ncol = 2)
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Lag Score', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Lagged Democratic Vote Share", y = y_lab[i])
}
plot_grid(fig_x_bal[1], ncol = 2)
fig_x_bal
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Lagged Score', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Lagged Democratic Vote Share", y = y_lab[i])
}
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Lagged Score', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Lagged Democratic Vote Share", y = y_lab[i])
plot_grid(fig_x_bal, ncol = 2)
}
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Lagged Score', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Lagged Democratic Vote Share", y = y_lab[i])
}
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Lagged Score', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Lagged Democratic Vote Share", y = y_lab[i])
plot_grid(fig_x_bal, ncol = 2)
}
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Lagged Score', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Lagged Democratic Vote Share", y = y_lab[i])
}
plot_grid(fig_x_bal)
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Lagged Score', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Lagged Democratic Vote Share", y = y_lab[i])
plot_grid(plotlist =  fig_x_bal, ncol = 2)
}
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Lagged Score', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Lagged Democratic Vote Share", y = y_lab[i])
plot(plot_grid(plotlist =  fig_x_bal, ncol = 2))
}
y_var = c('score', 'Score at time t', 'democrat')
y_lab = c('Score', 'Score at time t', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Democratic Vote Share at time t", y = y_lab[i])
plot(plot_grid(plotlist =  fig_x_bal, ncol = 2))
}
y_var = c('score', 'Score at time t', 'democrat')
y_lab = c('Score', 'Score at time t', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Democratic Vote Share at time t", y = y_lab[i])
plot(plot_grid(plotlist =  fig_x_bal, ncol = 2))
}
y_var = c('score', 'Score at time t', 'democrat')
y_lab = c('Score', 'Score at time t', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "", y = y_lab[i])
plot(plot_grid(plotlist =  fig_x_bal, ncol = 2))
}
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score', 'Score at time t', 'Democrat or Not')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Democratic Vote Share at time t", y = y_lab[i])
plot(plot_grid(plotlist =  fig_x_bal, ncol = 2))
}
y_var = c('score', 'lagscore', 'democrat')
y_lab = c('Score at time t+1', 'Score at time t', 'Democrat or Not at time t+1')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Democratic Vote Share at time t", y = y_lab[i])
plot(plot_grid(plotlist =  fig_x_bal, ncol = 2))
}
y_var = c('score', 'lagscore', 'democrat', 'lagdemocrat')
y_lab = c('Score at time t+1', 'Score at time t', 'Democrat or Not at time t+1', 'Democrat or Not at time t')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Democratic Vote Share at time t", y = y_lab[i])
plot(plot_grid(plotlist =  fig_x_bal, ncol = 2))
}
y_var = c("realincome", "pcthighschl", "pctblack", "eligible")
y_lab = c('Real Income', 'Share of Population with High School Degree',
'Share of Population that is Black', 'Share of Population Eligible to Vote')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Democratic Vote Share at time t", y = y_lab[i])
plot(plot_grid(plotlist =  fig_x_bal, ncol = 2))
}
fit_x_bal = feols(df_reg, c(realincome, pcthighschool, pctblack, eligible) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
fit_x_bal = feols(df_reg, c(realincome, pcthighschl, pctblack, eligible) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
names(df_reg)
library(haven)
library(tidyverse)
library(fixest)
library(cowplot)
setwd("~/Desktop/data econ 474")
df = read_dta("HW3 lmb data.dta" )
df = df %>%
mutate(bin_lagdemovoteshare  = cut_width(lagdemvoteshare,
width = 0.01,
center = 0.505,
closed = "left"),
plot_lagdemvoteshare = floor((lagdemvoteshare * 100))/100,
lagdemvoteshare_center = lagdemvoteshare - 0.5,
eligible = votingpop/totpop)
df_reg = df %>%
filter(lagdemvoteshare >= 0.48 & lagdemvoteshare <= 0.52)
df_hist = df %>%
group_by(plot_lagdemvoteshare, lagdemocrat) %>%
summarise(freq = n()) %>%
filter(plot_lagdemvoteshare > 0 & plot_lagdemvoteshare < 1)
ggplot(df_hist, aes(x = plot_lagdemvoteshare, y = freq, group = lagdemocrat)) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95)
df_plot = df %>%
group_by(plot_lagdemvoteshare, lagdemocrat) %>%
summarise(across(c(realincome, pcthighschl, pctblack, eligible,
score, lagscore, democrat), ~mean(.x, na.rm = T))) %>%
filter(plot_lagdemvoteshare > 0.25 & plot_lagdemvoteshare < 0.75)
y_var = c("realincome", "pcthighschl", "pctblack", "eligible")
y_lab = c('Real Income', 'Share of Population with High School Degree',
'Share of Population that is Black', 'Share of Population Eligible to Vote')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Democratic Vote Share at time t", y = y_lab[i])
plot(plot_grid(plotlist =  fig_x_bal, ncol = 2))
}
fit_x_bal = feols(df_reg, c(realincome, pcthighschl, pctblack, eligible) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
lagdemovoteshare_center
fit_x_bal = feols(df_reg, c(realincome, pcthighschl, pctblack, eligible) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
tab_dict= c('Real Income', 'Share of Population with High School Degree',
'Share of Population that is Black', 'Share of Population Eligible to Vote', 'Democrat or Not at time t')
etable(fit_x_bal, dict = tab_dict, se.below = T,
keep = 'Democrat or Not at time t',
fitstat = c("n", "r2"))
tab_dict= c(realincome = 'Real Income',
pcthighschl = 'Share of Population with High School Degree',
pctblack = 'Share of Population that is Black',
eligible = 'Share of Population Eligible to Vote',
lagdemocrat = 'Democrat or Not at time t')
etable(fit_x_bal, dict = tab_dict, se.below = T,
keep = 'Democrat or Not at time t',
fitstat = c("n", "r2"))
y_var = c("score", "lagscore", "democrat")
y_lab = c('Score at time t+1', 'Score at time t',
'Democrat or Not at time t+1')
fig_x_bal_new = list()
for( i in 1:length(y_var)) {
fig_x_bal_new[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Democratic Vote Share at time t", y = y_lab[i])
plot(plot_grid(plotlist =  fig_x_bal_new, ncol = 3))
}
fitoutcomes = feols(df_reg, c(score, lagscore, democrat) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
tab_dict_new= c(score = 'Score at time t+1',
lagscore = 'Score at time t',
democrat = 'Democrat or Not at time t+1')
etable(fitoutcomes, dict = tab_dict_new, se.below = T,
keep = 'Democrat or Not at time t+1',
fitstat = c("n", "r2"))
fitoutcomes = feols(df_reg, c(score, lagscore, democrat) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
tab_dict_new= c(score = 'Score at time t+1',
lagscore = 'Score at time t',
democrat = 'Democrat or Not at time t+1')
etable(fitoutcomes, dict = tab_dict_new, se.below = T,
keep = 'Democrat or Not at time t+1',
fitstat = c("n", "r2"))
fitoutcomes = feols(df_reg, c(score, lagscore, democrat) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
tab_dict_new= c(score = 'Score at time t+1',
lagscore = 'Score at time t',
democrat = 'Democrat or Not at time t+1')
etable(fitoutcomes, dict = tab_dict_new, se.below = T,
fitstat = c("n", "r2"))
24.84 -2.6
46.25 = 2.072
46.25 - 2.072
46.25 + 2.07
.52 - 0.05
24.84 - (24.84 * .52)
24.84 - (46.25.84 * .52)
24.84 - (46.25 * .52)
fitoutcomes = feols(df_reg, c(score, lagscore, democrat, lagscore * democrat, (score - (lagscore * democrat))) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
tab_dict_new= c(score = 'Score at time t+1',
lagscore = 'Score at time t',
democrat = 'Democrat or Not at time t+1',
)
fitoutcomes = feols(df_reg, c(score, lagscore, democrat, (lagscore * democrat), (score - (lagscore * democrat))) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
summary(fitoutcomes)
summary(fitoutoucomes)
fitoutcomes = feols(df_reg, c(score, lagscore, democrat, (lagscore * democrat), (score - (lagscore * democrat))) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
tab_dict_new= c(score = 'Score at time t+1',
lagscore = 'Score at time t',
democrat = 'Democrat or Not at time t+1',
'(lagscore * democrat)' = 'Elect',
'(score - (lagscore * democrat)' = 'Effect'
)
etable(fitoutcomes, dict = tab_dict_new, se.below = T,
fitstat = c("n", "r2"))
coef(fitoutcomes)
fitoutcomes = feols(df_reg, c(score, lagscore, democrat, (lagscore * democrat), (score - (lagscore * democrat))) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
tab_dict_new= c(score = 'Score at time t+1',
lagscore = 'Score at time t',
democrat = 'Democrat or Not at time t+1')
etable(fitoutcomes, dict = tab_dict_new, se.below = T,
fitstat = c("n", "r2"),
keep = -c('(lagscore * democrat)', '(score - (lagscore * democrat)'))
fitoutcomes = feols(df_reg, c(score, lagscore, democrat, (lagscore * democrat), (score - (lagscore * democrat))) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
tab_dict_new= c(score = 'Score at time t+1',
lagscore = 'Score at time t',
democrat = 'Democrat or Not at time t+1')
etable(fitoutcomes, dict = tab_dict_new, se.below = T,
fitstat = c("n", "r2"),
keep = c('Score at time t+1', 'Score at time t',
'Democrat or Not at time t+1'))
fit_x_bal = feols(df_reg, c(realincome, pcthighschl, pctblack, eligible) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
tab_dict= c(score = 'Score at time t+1',
lagscore = 'Score at time t',
democrat = 'Democrat or Not at time t+1')
tab_dict= c(realincome = 'Real Income',
pcthighschl = 'Share of Population with High School Degree',
pctblack = 'Share of Population that is Black',
eligible = 'Share of Population Eligible to Vote',
lagdemocrat = 'Democrat or Not at time t')
tab_dict_new = c(score = 'Score at time t+1',
lagscore = 'Score at time t',
democrat = 'Democrat or Not at time t+1')
tab_dict = combine(tab_dict, tab_dict_new)
etable(fitoutcomes, dict = tab_dict_new, se.below = T,
fitstat = c("n", "r2"),
keep = c('Score at time t+1', 'Score at time t',
'Democrat or Not at time t+1'))
fitoutcomes = feols(df_reg, c(score, lagscore, democrat)) ~
lagdemocrat * lagdemvoteshare_center,
fitoutcomes = feols(df_reg, c(score, lagscore, democrat)) ~
lagdemocrat * lagdemvoteshare_center,
fitoutcomes = feols(df_reg, c(score, lagscore, democrat) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
tab_dict_new = c(score = 'Score at time t+1',
lagscore = 'Score at time t',
democrat = 'Democrat or Not at time t+1')
tab_dict = combine(tab_dict, tab_dict_new)
etable(fitoutcomes, dict = tab_dict_new, se.below = T,
fitstat = c("n", "r2"))
coef(fitoutcomes)[1]
elect_gap = coef(fitoutcomes)[2] * coef(fitoutcomes)[3]
elect_gap
effect_gap = coef(fitoutcomes)[1] - elect_gap
effect_gap
coef(fitoutcomes)[2
coef(fitoutcomes)[2
coef(fitoutcomes)[2
coef(fitoutcomes)[2]
coef(fitoutcomes)[2]
fitoutcomes = feols(df_reg, c(score, lagscore, democrat) ~
lagdemocrat * lagdemvoteshare_center,
cluster = 'id')
tab_dict_new = c(score = 'Score at time t+1',
lagscore = 'Score at time t',
democrat = 'Democrat or Not at time t+1')
tab_dict = combine(tab_dict, tab_dict_new)
etable(fitoutcomes, dict = tab_dict_new, se.below = T,
fitstat = c("n", "r2"))
coef(fitoutcomes)[1]
fitoutcomes(coef)
coef(fitoutcomes)
elect_gap = coef(fitoutcomes)[2,2] * coef(fitoutcomes)[3,2]
elect_gap = coef(fitoutcomes)[2,2] * coef(fitoutcomes)[3,2]
elect_gap
effect_gap = coef(fitoutcomes)[1,2] - elect_gap
effect_gap
effect_gap =
coef(fitoutcomes)[1,2
coef(fitoutcomes)[1,2]
coef(fitoutcomes)[1,2]
elect_gap
elect_gap = coef(fitoutcomes)[2,2] * coef(fitoutcomes)[3,2]
elect_gap
effect_gap = coef(fitoutcomes)[1,2] - elect_gap
effect_gap
library(haven)
library(tidyverse)
library(fixest)
library(cowplot)
setwd("~/Desktop/data econ 474")
df = read_dta("HW3 lmb data.dta" )
df = df %>%
mutate(bin_lagdemovoteshare  = cut_width(lagdemvoteshare,
width = 0.01,
center = 0.505,
closed = "left"),
plot_lagdemvoteshare = floor((lagdemvoteshare * 100))/100,
lagdemvoteshare_center = lagdemvoteshare - 0.5,
eligible = votingpop/totpop)
df_reg = df %>%
filter(lagdemvoteshare >= 0.48 & lagdemvoteshare <= 0.52)
df_hist = df %>%
group_by(plot_lagdemvoteshare, lagdemocrat) %>%
summarise(freq = n()) %>%
filter(plot_lagdemvoteshare > 0 & plot_lagdemvoteshare < 1)
ggplot(df_hist, aes(x = plot_lagdemvoteshare, y = freq, group = lagdemocrat)) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95)
df_plot = df %>%
group_by(plot_lagdemvoteshare, lagdemocrat) %>%
summarise(across(c(realincome, pcthighschl, pctblack, eligible,
score, lagscore, democrat), ~mean(.x, na.rm = T))) %>%
filter(plot_lagdemvoteshare > 0.25 & plot_lagdemvoteshare < 0.75)
y_var = c("realincome", "pcthighschl", "pctblack", "eligible")
y_lab = c('Real Income', 'Share of Population with High School Degree',
'Share of Population that is Black', 'Share of Population Eligible to Vote')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Democratic Vote Share at time t", y = y_lab[i])
plot(plot_grid(plotlist =  fig_x_bal, ncol = 2))
}
y_var = c("realincome", "pcthighschl", "pctblack", "eligible")
y_lab = c('Real Income', 'Share of Population with High School Degree',
'Share of Population that is Black', 'Share of Population Eligible to Vote')
fig_x_bal = list()
for( i in 1:length(y_var)) {
fig_x_bal[[i]] = ggplot(df_plot, aes_string(x = 'plot_lagdemvoteshare',
y = y_var[i],
group = 'lagdemocrat')) +
geom_point() +
geom_smooth(method = 'loess', span = 0.8, level = 0.95) +
labs(x = "Democratic Vote Share at time t", y = y_lab[i])
}
plot(plot_grid(plotlist =  fig_x_bal, ncol = 2))
